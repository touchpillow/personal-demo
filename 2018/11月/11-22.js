// import {dataData} from './data.js'
let dataData = [
  {
    xid: 96638,
    create_time: "2018-08-11 18:17:07",
    sign: 1,
    pid: 11487,
    attribute: "商品图片",
    value: "/gcrcsUploadFile/2018/8/11/181158/1533982318096.jpg"
  },
  {
    xid: 96639,
    create_time: "2018-08-11 18:17:07",
    sign: 1,
    pid: 11487,
    attribute: "价格",
    value: "888"
  },
  {
    xid: 96640,
    create_time: "2018-08-11 18:17:07",
    sign: 1,
    pid: 11487,
    attribute: "秒杀价",
    value: "600"
  },
  {
    xid: 96643,
    create_time: "2018-08-11 18:17:07",
    sign: 1,
    pid: 11487,
    attribute: "规格",
    value: "21寸"
  },
  {
    xid: 96644,
    create_time: "2018-08-11 18:17:07",
    sign: 1,
    pid: 11487,
    attribute: "颜色",
    value: "黑色"
  },
  {
    xid: 96645,
    create_time: "2018-08-11 18:17:07",
    sign: 2,
    pid: 11487,
    attribute: "商品图片",
    value: "/gcrcsUploadFile/2018/8/11/18123/1533982323395.jpg"
  },
  {
    xid: 96646,
    create_time: "2018-08-11 18:17:07",
    sign: 2,
    pid: 11487,
    attribute: "价格",
    value: "998"
  },
  {
    xid: 96647,
    create_time: "2018-08-11 18:17:07",
    sign: 2,
    pid: 11487,
    attribute: "秒杀价",
    value: "710"
  },
  {
    xid: 96650,
    create_time: "2018-08-11 18:17:07",
    sign: 2,
    pid: 11487,
    attribute: "规格",
    value: "26寸"
  },
  {
    xid: 96651,
    create_time: "2018-08-11 18:17:07",
    sign: 2,
    pid: 11487,
    attribute: "颜色",
    value: "黑色"
  },
  {
    xid: 96652,
    create_time: "2018-08-11 18:17:07",
    sign: 3,
    pid: 11487,
    attribute: "商品图片",
    value: "/gcrcsUploadFile/2018/8/11/18127/1533982327589.jpg"
  },
  {
    xid: 96653,
    create_time: "2018-08-11 18:17:07",
    sign: 3,
    pid: 11487,
    attribute: "价格",
    value: "1180"
  },
  {
    xid: 96654,
    create_time: "2018-08-11 18:17:07",
    sign: 3,
    pid: 11487,
    attribute: "秒杀价",
    value: "830"
  },
  {
    xid: 96657,
    create_time: "2018-08-11 18:17:07",
    sign: 3,
    pid: 11487,
    attribute: "规格",
    value: "29寸"
  },
  {
    xid: 96658,
    create_time: "2018-08-11 18:17:07",
    sign: 3,
    pid: 11487,
    attribute: "颜色",
    value: "黑色"
  },
  {
    xid: 96659,
    create_time: "2018-08-11 18:17:07",
    sign: 4,
    pid: 11487,
    attribute: "商品图片",
    value: "/gcrcsUploadFile/2018/8/11/181220/1533982340171.jpg"
  },
  {
    xid: 96660,
    create_time: "2018-08-11 18:17:07",
    sign: 4,
    pid: 11487,
    attribute: "价格",
    value: "888"
  },
  {
    xid: 96661,
    create_time: "2018-08-11 18:17:07",
    sign: 4,
    pid: 11487,
    attribute: "秒杀价",
    value: "600"
  },
  {
    xid: 96664,
    create_time: "2018-08-11 18:17:07",
    sign: 4,
    pid: 11487,
    attribute: "规格",
    value: "21寸"
  },
  {
    xid: 96665,
    create_time: "2018-08-11 18:17:07",
    sign: 4,
    pid: 11487,
    attribute: "颜色",
    value: "红色"
  },
  {
    xid: 96666,
    create_time: "2018-08-11 18:17:07",
    sign: 5,
    pid: 11487,
    attribute: "商品图片",
    value: "/gcrcsUploadFile/2018/8/11/181223/1533982343257.jpg"
  },
  {
    xid: 96667,
    create_time: "2018-08-11 18:17:07",
    sign: 5,
    pid: 11487,
    attribute: "价格",
    value: "998"
  },
  {
    xid: 96668,
    create_time: "2018-08-11 18:17:07",
    sign: 5,
    pid: 11487,
    attribute: "秒杀价",
    value: "710"
  },
  {
    xid: 96671,
    create_time: "2018-08-11 18:17:07",
    sign: 5,
    pid: 11487,
    attribute: "规格",
    value: "26寸"
  },
  {
    xid: 96672,
    create_time: "2018-08-11 18:17:07",
    sign: 5,
    pid: 11487,
    attribute: "颜色",
    value: "红色"
  },
  {
    xid: 96673,
    create_time: "2018-08-11 18:17:07",
    sign: 6,
    pid: 11487,
    attribute: "商品图片",
    value: "/gcrcsUploadFile/2018/8/11/181227/1533982347723.jpg"
  },
  {
    xid: 96674,
    create_time: "2018-08-11 18:17:07",
    sign: 6,
    pid: 11487,
    attribute: "价格",
    value: "1180"
  },
  {
    xid: 96675,
    create_time: "2018-08-11 18:17:07",
    sign: 6,
    pid: 11487,
    attribute: "秒杀价",
    value: "830"
  },
  {
    xid: 96678,
    create_time: "2018-08-11 18:17:07",
    sign: 6,
    pid: 11487,
    attribute: "规格",
    value: "29寸"
  },
  {
    xid: 96679,
    create_time: "2018-08-11 18:17:07",
    sign: 6,
    pid: 11487,
    attribute: "颜色",
    value: "红色"
  },
  {
    xid: 96680,
    create_time: "2018-08-11 18:17:07",
    sign: 7,
    pid: 11487,
    attribute: "商品图片",
    value: "/gcrcsUploadFile/2018/8/11/181235/1533982355760.jpg"
  },
  {
    xid: 96681,
    create_time: "2018-08-11 18:17:07",
    sign: 7,
    pid: 11487,
    attribute: "价格",
    value: "888"
  },
  {
    xid: 96682,
    create_time: "2018-08-11 18:17:07",
    sign: 7,
    pid: 11487,
    attribute: "秒杀价",
    value: "600"
  },
  {
    xid: 96685,
    create_time: "2018-08-11 18:17:07",
    sign: 7,
    pid: 11487,
    attribute: "规格",
    value: "21寸"
  },
  {
    xid: 96686,
    create_time: "2018-08-11 18:17:07",
    sign: 7,
    pid: 11487,
    attribute: "颜色",
    value: "钛金"
  },
  {
    xid: 96687,
    create_time: "2018-08-11 18:17:07",
    sign: 8,
    pid: 11487,
    attribute: "商品图片",
    value: "/gcrcsUploadFile/2018/8/11/181238/1533982358934.jpg"
  },
  {
    xid: 96688,
    create_time: "2018-08-11 18:17:07",
    sign: 8,
    pid: 11487,
    attribute: "价格",
    value: "998"
  },
  {
    xid: 96689,
    create_time: "2018-08-11 18:17:07",
    sign: 8,
    pid: 11487,
    attribute: "秒杀价",
    value: "710"
  },
  {
    xid: 96692,
    create_time: "2018-08-11 18:17:07",
    sign: 8,
    pid: 11487,
    attribute: "规格",
    value: "26寸"
  },
  {
    xid: 96693,
    create_time: "2018-08-11 18:17:07",
    sign: 8,
    pid: 11487,
    attribute: "颜色",
    value: "钛金"
  },
  {
    xid: 96694,
    create_time: "2018-08-11 18:17:07",
    sign: 9,
    pid: 11487,
    attribute: "商品图片",
    value: "/gcrcsUploadFile/2018/8/11/181241/1533982361976.jpg"
  },
  {
    xid: 96695,
    create_time: "2018-08-11 18:17:07",
    sign: 9,
    pid: 11487,
    attribute: "价格",
    value: "1180"
  },
  {
    xid: 96696,
    create_time: "2018-08-11 18:17:07",
    sign: 9,
    pid: 11487,
    attribute: "秒杀价",
    value: "830"
  },
  {
    xid: 96699,
    create_time: "2018-08-11 18:17:07",
    sign: 9,
    pid: 11487,
    attribute: "规格",
    value: "29寸"
  },
  {
    xid: 96700,
    create_time: "2018-08-11 18:17:07",
    sign: 9,
    pid: 11487,
    attribute: "颜色",
    value: "钛金"
  },
  {
    xid: 96701,
    create_time: "2018-08-11 18:17:07",
    sign: 10,
    pid: 11487,
    attribute: "商品图片",
    value: "/gcrcsUploadFile/2018/8/11/181250/1533982370718.jpg"
  },
  {
    xid: 96702,
    create_time: "2018-08-11 18:17:07",
    sign: 10,
    pid: 11487,
    attribute: "价格",
    value: "888"
  },
  {
    xid: 96703,
    create_time: "2018-08-11 18:17:07",
    sign: 10,
    pid: 11487,
    attribute: "秒杀价",
    value: "600"
  },
  {
    xid: 96706,
    create_time: "2018-08-11 18:17:07",
    sign: 10,
    pid: 11487,
    attribute: "规格",
    value: "21寸"
  },
  {
    xid: 96707,
    create_time: "2018-08-11 18:17:07",
    sign: 10,
    pid: 11487,
    attribute: "颜色",
    value: "银色"
  },
  {
    xid: 96708,
    create_time: "2018-08-11 18:17:07",
    sign: 11,
    pid: 11487,
    attribute: "商品图片",
    value: "/gcrcsUploadFile/2018/8/11/181256/1533982376030.jpg"
  },
  {
    xid: 96709,
    create_time: "2018-08-11 18:17:07",
    sign: 11,
    pid: 11487,
    attribute: "价格",
    value: "998"
  },
  {
    xid: 96710,
    create_time: "2018-08-11 18:17:07",
    sign: 11,
    pid: 11487,
    attribute: "秒杀价",
    value: "710"
  },
  {
    xid: 96713,
    create_time: "2018-08-11 18:17:07",
    sign: 11,
    pid: 11487,
    attribute: "规格",
    value: "26寸"
  },
  {
    xid: 96714,
    create_time: "2018-08-11 18:17:07",
    sign: 11,
    pid: 11487,
    attribute: "颜色",
    value: "银色"
  },
  {
    xid: 96715,
    create_time: "2018-08-11 18:17:07",
    sign: 12,
    pid: 11487,
    attribute: "商品图片",
    value: "/gcrcsUploadFile/2018/8/11/18131/1533982381775.jpg"
  },
  {
    xid: 96716,
    create_time: "2018-08-11 18:17:07",
    sign: 12,
    pid: 11487,
    attribute: "价格",
    value: "1180"
  },
  {
    xid: 96717,
    create_time: "2018-08-11 18:17:07",
    sign: 12,
    pid: 11487,
    attribute: "秒杀价",
    value: "830"
  },
  {
    xid: 96720,
    create_time: "2018-08-11 18:17:07",
    sign: 12,
    pid: 11487,
    attribute: "规格",
    value: "29寸"
  },
  {
    xid: 96721,
    create_time: "2018-08-11 18:17:07",
    sign: 12,
    pid: 11487,
    attribute: "颜色",
    value: "银色"
  }
];

function getGoodsData(data) {
  let result = [];
  data.forEach(item => {
    if (!result[item.sign - 1]) {
      result[item.sign - 1] = {};
    }
    result[item.sign - 1][item.attribute] = item.value;
  });
  console.log(result);
  let resData = [];
  result.map(item => {
    let res = {
      [item["规格"]]: {
        [item["颜色"]]: {
          goodsPic: item["商品图片"],
          price: item["价格"],
          spikePrice: item["秒杀价"]
        }
      }
    };
    resData.push(res);
    return res;
  });
  console.log(resData);
  let resultData = {};
  resData.forEach(item => {
    let keys = Object.keys(item)[0];
    if (!resultData[keys]) {
      resultData[keys] = item[keys];
    } else {
      resultData[keys][Object.keys(item[keys])[0]] =
        item[keys][Object.keys(item[keys])[0]];
    }
  });
  return resultData;
}
let res = getGoodsData(dataData);
console.log(res);
